# Shell Platform Production Configuration
# SECURITY: All secrets must be replaced with actual production values

#==================================================
# Core Application Configuration
#==================================================
NODE_ENV=production
APP_NAME=ShellPlatform
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/shell-platform
LOG_MAX_SIZE=20m
LOG_MAX_FILES=30d

#==================================================
# API Gateway Configuration
#==================================================
API_GATEWAY_PORT=3000
JWT_SECRET=CHANGE_THIS_IN_PRODUCTION_MIN_64_CHARS_SECURE_JWT_SECRET_KEY
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_REQUESTS=100

#==================================================
# Service Configuration
#==================================================
# Service Ports
AUTH_SERVICE_PORT=3001
DATA_SERVICE_PORT=3002
FILE_SERVICE_PORT=3003
EXTERNAL_SERVICE_PORT=3004

# Internal Service URLs
AUTH_SERVICE_URL=http://auth-service:3001
DATA_SERVICE_URL=http://data-service:3002
FILE_SERVICE_URL=http://file-service:3003
EXTERNAL_SERVICE_URL=http://external-service:3004

# Service Timeouts (milliseconds)
AUTH_SERVICE_TIMEOUT=5000
DATA_SERVICE_TIMEOUT=5000
FILE_SERVICE_TIMEOUT=10000
EXTERNAL_SERVICE_TIMEOUT=8000

#==================================================
# Database Configuration (PostgreSQL)
#==================================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=shell_platform_user
DB_PASSWORD=CHANGE_THIS_SECURE_DB_PASSWORD_IN_PRODUCTION
DB_DATABASE=shell_platform
DB_SSL=true
DB_CONNECTION_TIMEOUT=20000
DB_REQUEST_TIMEOUT=20000
DB_POOL_SIZE=20
DB_MAX_CONNECTIONS=100

#==================================================
# Redis Configuration
#==================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_SECURE_REDIS_PASSWORD_IN_PRODUCTION
REDIS_DB=0
REDIS_KEY_PREFIX=shell:
REDIS_TTL=86400
REDIS_MAX_CONNECTIONS=10

#==================================================
# JWT & Authentication Configuration
#==================================================
JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d
JWT_ISSUER=shell-platform
JWT_AUDIENCE=shell-platform-api
SESSION_SECRET=CHANGE_THIS_SESSION_SECRET_MIN_64_CHARS_IN_PRODUCTION

#==================================================
# Security Configuration
#==================================================
BCRYPT_ROUNDS=14
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# Security Headers
HSTS_MAX_AGE=31536000
CSP_REPORT_URI=https://yourdomain.com/csp-report
COOKIE_SECURE=true
COOKIE_HTTPONLY=true
COOKIE_SAMESITE=strict
COOKIE_MAX_AGE=86400000

#==================================================
# File Service Configuration
#==================================================
# Storage Backend (local, s3, azure)
STORAGE_BACKEND=local
UPLOAD_MAX_SIZE=100MB
UPLOAD_TEMP_DIR=/tmp/uploads
UPLOAD_DEST_DIR=/var/www/uploads

# AWS S3 Configuration (if using S3)
AWS_REGION=us-east-1
AWS_S3_BUCKET=shell-platform-files
AWS_ACCESS_KEY_ID=CHANGE_THIS_AWS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_THIS_AWS_SECRET

# Image Processing
IMAGE_QUALITY=85
THUMBNAIL_SIZES=150x150,300x300,600x600
IMAGE_MAX_DIMENSION=2048

# Virus Scanning
ENABLE_VIRUS_SCAN=true
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

#==================================================
# External API Service Configuration
#==================================================
# Circuit Breaker
CIRCUIT_BREAKER_TIMEOUT=3000
CIRCUIT_BREAKER_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# API Rate Limiting
API_RATE_LIMIT_WINDOW=60000
API_RATE_LIMIT_MAX=1000

# API Keys (Add your external service API keys)
EXTERNAL_API_KEY_1=CHANGE_THIS_EXTERNAL_API_KEY
EXTERNAL_API_KEY_2=CHANGE_THIS_EXTERNAL_API_KEY

#==================================================
# Email Configuration
#==================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=CHANGE_THIS_EMAIL@gmail.com
SMTP_PASS=CHANGE_THIS_APP_PASSWORD
EMAIL_FROM=noreply@yourdomain.com
EMAIL_VERIFICATION_EXPIRY=24h
PASSWORD_RESET_EXPIRY=1h

#==================================================
# 2FA Configuration
#==================================================
TOTP_WINDOW=2
TOTP_ISSUER=ShellPlatform
TOTP_ALGORITHM=sha256

#==================================================
# Monitoring Configuration
#==================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d

# Grafana
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD

# Elasticsearch
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=CHANGE_THIS_ELASTICSEARCH_PASSWORD

# Jaeger
JAEGER_ENDPOINT=http://localhost:14268/api/traces

#==================================================
# CDN & Performance Configuration
#==================================================
CDN_URL=https://cdn.yourdomain.com
ENABLE_COMPRESSION=true
CACHE_MAX_AGE=31536000

#==================================================
# SSL/TLS Configuration
#==================================================
SSL_CERT_PATH=/etc/ssl/certs/shell-platform.crt
SSL_KEY_PATH=/etc/ssl/private/shell-platform.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

#==================================================
# Backup Configuration
#==================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=shell-platform-backups

#==================================================
# Health Check Configuration
#==================================================
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_RETRIES=3

#==================================================
# Feature Flags
#==================================================
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true
ENABLE_COMPRESSION=true
ENABLE_SECURITY_HEADERS=true

#==================================================
# Environment Specific URLs
#==================================================
FRONTEND_URL=https://yourdomain.com
API_URL=https://api.yourdomain.com
WEBSOCKET_URL=wss://ws.yourdomain.com
